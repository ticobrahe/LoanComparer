@model LoanComparer.Data.Models.ViewModels.LoanerDetailViewModel
@{
    ViewBag.Title = "Details";
}

    <div class="container mt-72 details">

        <h2>@Model.CompanyName</h2>
        <dl class="dl-horizontal">


            <dt>LoanType</dt>
            <dd>
                @Model.LoanType
            </dd>
            <dt>Rate</dt>
            <dd>
                @Model.Rate %
            </dd>
            <dt>Terms</dt>
            <dd>
                @Model.Terms
            </dd>
            <dt>Principal Amount </dt>
            <dd>@String.Format("{0:C}", ViewBag.principalAmount)</dd>
        </dl>
        <div class="text-center mb-20"><h3>Repayment Details</h3></div>
        <table id="myTable" class="table table-striped table-responsive">
            <thead>
                <tr>
                    <th scope="col">Month</th>
                    <th scope="col">Monthly Payment</th>
                    <th scope="col">Amount Remaining</th>
                    <th scope="col">Payment Percentage</th>
                    <th scope="col">Interest</th>
                </tr>
            </thead>
            <tbody>

                @foreach (var repaymentDetail in ViewBag.repayment)
                {
                    <tr>
                        <td>@repaymentDetail.Duration</td>
                        <td>@String.Format("{0:C}", repaymentDetail.MonthlyPayment)</td>
                        <td>@String.Format("{0:C}", repaymentDetail.AmountLeft)</td>
                        <td>@string.Format("{0:P}", repaymentDetail.PaymentPercentage)</td>
                        <td>@Model.Rate%</td>
                    </tr>

                }

            </tbody>
        </table>
        <dl class="dl-horizontal">


            <dt>Total amount to pay</dt>
            <dd>
                @String.Format("{0:C}", ViewBag.totalAmount)
            </dd>
        </dl>
        @using (Html.BeginForm("AccessLoan", "Loan", FormMethod.Post, new {@class = "form-br"}))
        {

        }
            <div class="row">
                <div class="col-md-12">
                    @Html.ActionLink("Get Loan", "ActivateLoan", new { id = @Model.Id }, new {@class="btn btn-success btn-block"})

                </div>
            </div>
    </div>

